<% if can?(:edit, generic_file) %>
  <%= link_to( 'Edit', edit_polymorphic_path([:curation_concern, generic_file]),
    { class: 'btn btn-default', title: "Edit #{generic_file}" }) %>
<% end %>
<% if can?(:destroy, generic_file) %>
  <%= link_to( 'Delete', polymorphic_path([:curation_concern, generic_file]),
    class: 'btn btn-default', method: :delete, title: "Delete #{generic_file}",
    data: {confirm: "Deleting #{generic_file} from #{t('sufia.product_name')} is permanent. Click OK to delete this from #{t('sufia.product_name')}, or Cancel to cancel this operation"}
  )%>
<% end %>
<% if can?(:read, generic_file) %>
  <% if generic_file.mime_type == "image/jp2" || generic_file.mime_type == "image/tiff" %>
    <%= link_to 'Download Fullsize JPEG', "/image-service/#{generic_file.id}/full/full/0/native.jpg",
      class: 'btn btn-default', title: "Download the full sized image", target: "_blank" %>
    <br/>
    <%= link_to "Download Original (#{generic_file.mime_type})", download_path(generic_file), title: "Download Original (#{generic_file.mime_type})" %>
  <% else %>
    <%= link_to 'Download', download_path(generic_file),
      class: 'btn btn-default', title: "Download #{generic_file.to_s.inspect}", target: "_blank" %>
  <% end %>
<% end %>
